(()=>{var e={};e.id=964,e.ids=[964],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},4157:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(260),n=r(8203),a=r(5155),i=r.n(a),o=r(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["(pages)",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/kelvinkimutai/Documents/theone/src/app/(pages)/(auth)/login/page.jsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2804)),"/Users/kelvinkimutai/Documents/theone/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/kelvinkimutai/Documents/theone/src/app/(pages)/(auth)/login/page.jsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(pages)/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8328:(e,t,r)=>{Promise.resolve().then(r.bind(r,2029))},5176:(e,t,r)=>{Promise.resolve().then(r.bind(r,5105))},5105:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(5512),n=r(3512),a=r(1360),i=r(5998),o=r(8531),l=r.n(o),d=r(9334),c=r(8009),u=r(8578),p=r(2273);function m(){let[e,t]=(0,c.useState)(!1),[r,o]=(0,c.useState)(""),[m,h]=(0,c.useState)(""),[x,g]=(0,c.useState)(!1),[v]=(0,n.h8)(),f=(0,d.useRouter)(),w=(0,p.wA)(),b=(0,d.useSearchParams)().get("redirect")||"/",j=()=>t(e=>!e),y=async e=>{e.preventDefault(),g(!0);let t={request:{request_id:Date.now(),data:{identity:r,password:m}}};try{let e=await v(t).unwrap();i.A.set("access_token",e.data.access_token,{expires:1/24,secure:!0,sameSite:"Strict"}),localStorage.setItem("login_time",Date.now()),w((0,a.gV)(e.data)),console.log("Login successful:",e),f.push(b)}catch(e){u.oR.error(e?.data?.message||"Invalid email or password")}finally{g(!1)}};return(0,s.jsx)("div",{className:"font-[sans-serif]",children:(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center py-6 px-4",children:(0,s.jsx)("div",{className:"max-w-md w-full",children:(0,s.jsxs)("div",{className:"p-8 rounded-2xl md:bg-white md:shadow",children:[(0,s.jsx)("h2",{className:"text-gray-800 text-center text-2xl font-bold",children:"Sign in"}),(0,s.jsxs)("form",{className:"mt-8 space-y-4",onSubmit:y,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-800 text-sm mb-2 block",children:"Email"}),(0,s.jsx)("input",{name:"email",type:"email",value:r,onChange:e=>o(e.target.value),required:!0,className:"w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-green-500",placeholder:"Enter Email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-800 text-sm mb-2 block",children:"Password"}),(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{name:"password",type:e?"text":"password",value:m,onChange:e=>h(e.target.value),required:!0,className:"w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-green-500",placeholder:"Enter Password"}),e?(0,s.jsx)("svg",{onClick:j,className:"w-5 h-5 absolute right-4 text-gray-400 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}):(0,s.jsxs)("svg",{onClick:j,className:"w-5 h-5 absolute text-gray-400 right-4 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"}),(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})]})]}),(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:(0,s.jsx)(l(),{href:"/forgot-password",className:"text-green-500 hover:underline font-semibold",children:"Forgot your password?"})}),(0,s.jsx)("div",{className:"!mt-8",children:(0,s.jsx)("button",{type:"submit",disabled:x,className:"w-full py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-green-500 hover:bg-green-700 focus:outline-none disabled:opacity-50",children:x?"Signing in...":"Sign in"})}),(0,s.jsxs)("p",{className:"text-gray-800 text-sm !mt-8 text-center",children:["Don't have an account?"," ",(0,s.jsx)(l(),{href:"/register",className:"text-green-500 hover:underline ml-1 whitespace-nowrap font-semibold",children:"Register here"})]})]})]})})})})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kelvinkimutai/Documents/theone/src/app/(pages)/(auth)/login/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kelvinkimutai/Documents/theone/src/app/(pages)/(auth)/login/page.jsx","default")},440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(8077);let n=async e=>[{type:"image/x-icon",sizes:"48x48",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[994,657,77,820],()=>r(4157));module.exports=s})();