(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{7552:(e,t,a)=>{Promise.resolve().then(a.bind(a,988))},988:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(5155),l=a(2186),i=a(5305),r=a(5565),d=a(6046),n=a(2115),c=a(3391),x=a(830),o=a(960);function m(e){let{activeDate:t,loading:a}=e,m=(0,c.d4)(i.CB),[u,p]=(0,n.useState)([]),[h,g]=(0,n.useState)(t),f=(0,c.d4)(l.$V),v=(0,d.useRouter)(),j=e=>{v.push("fixture/".concat(e))};(0,n.useEffect)(()=>{if(m){let e=0;m.forEach(t=>{Object.values(t).forEach(t=>{Object.values(t).forEach(t=>{e+=t.length})})})}},[m]),(0,n.useEffect)(()=>{g(t)},[t]);let w=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return m&&0!==m.length?(0,s.jsx)("div",{children:m.map((e,t)=>(0,s.jsx)(n.Fragment,{children:Object.keys(e).map((t,a)=>{var l;let i=null==f?void 0:null===(l=f.data)||void 0===l?void 0:l.find(e=>e.name===t),d=(null==i?void 0:i.flag)||"/kenya.svg",n=Object.keys(e[t]).filter(a=>e[t][a].some(e=>{var t;let a=null==e?void 0:null===(t=e.fixture_date.split(",")[1])||void 0===t?void 0:t.trim();if(!a)return!1;try{let e=(0,x.qg)(a,"dd-MM-yyyy",new Date),t=(0,o.GP)(e,"MMM d"),s=(0,o.GP)(new Date(h),"MMM d");return t===s}catch(e){return console.error("Date Parsing Error:",e),!1}}));return 0===n.length?null:(0,s.jsxs)("div",{className:"shadow md:bg-white rounded-md mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center bg-green-900 text-white p-2 rounded-t",children:[(0,s.jsx)(r.default,{src:d,alt:"".concat(t," Flag"),width:24,height:16,className:"mr-4 h-4 w-6 object-contain rounded"}),(0,s.jsx)("span",{children:t})]}),n.map((l,i)=>{let d="".concat(a,"-").concat(i);return(0,s.jsxs)("div",{className:"mb-2 mt-3 py-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>w(d),className:"w-full text-left text-gray-600 p-2 rounded-t-lg bg-green-100 hover:bg-green-200 ".concat(u.includes(d)?"text-green-800":"text-gray-800"," flex justify-between items-center"),children:(0,s.jsx)("span",{children:l})}),(0,s.jsxs)("div",{className:"transition-all overflow-hidden max-h-[1000px] ".concat(u.includes(d)?"max-h-[1000px]":"max-h-0"),children:[(0,s.jsxs)("div",{className:"rounded-lg max-md:hidden px-2 py-1 flex w-full sticky top-0 text-[13px] flex-grow shadow justify-between text-center text-sm items-center gap-4 bg-green-100 text-black",children:[(0,s.jsx)("div",{className:"md:flex-1 max-md:hidden text-start",children:"Time"}),(0,s.jsx)("div",{className:"w-[30%] max-md:w-[40%] max-md:text-start",children:"Team"}),(0,s.jsx)("div",{className:"w-[30%] max-md:flex-1 max-md:text-start",children:"Score"}),(0,s.jsx)("div",{className:"md:flex-1 max-md:hidden",children:"Tip"}),(0,s.jsx)("div",{className:"flex-1 max-md:text-start",children:"Best Tip"}),(0,s.jsx)("div",{className:"md:flex-1",children:"Trust"})]}),e[t][l].filter(e=>{var t;let a=null==e?void 0:null===(t=e.fixture_date.split(",")[1])||void 0===t?void 0:t.trim();if(!a)return!1;try{let e=(0,x.qg)(a,"dd-MM-yyyy",new Date),t=(0,o.GP)(e,"MMM d"),s=(0,o.GP)(new Date(h),"MMM d");return t===s}catch(e){return console.error("Date Parsing Error:",e),!1}}).map((e,t)=>{var a,l;return(0,s.jsxs)("div",{className:"rounded-md p-2 flex flex-col w-full flex-grow shadow-[0_2px_10px_-3px_rgba(34,197,94,0.5)] text-center text-sm items-center gap-4 bg-white mt-2",children:[(0,s.jsx)("div",{className:"flex text-[13px] items-center justify-start w-full md:hidden font-medium max-lg:text-[12px]",children:(0,s.jsx)("p",{className:"max-lg:text-[12px] text-[12px] text-start",children:(null==e?void 0:e.fixture_date)||"No time available"})}),(0,s.jsxs)("div",{onClick:()=>j(e.match_id),className:"flex w-full flex-grow justify-between text-center text-sm md:items-center gap-4",children:[(0,s.jsx)("div",{className:"md:flex-1 max-md:hidden flex flex-col items-center justify-between text-[13px] font-medium max-lg:text-[12px]",children:e.fixture_time?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"max-lg:text-[12px] text-[12px] max-md:hidden",children:e.fixture_time||"No time available"}),(0,s.jsxs)("div",{className:"md:hidden",children:[(0,s.jsx)("p",{className:"text-[12px] max-lg:text-[12px]",children:e.fixture_time.split(":")[0]}),(0,s.jsx)("p",{className:"text-[12px] max-lg:text-[12px]",children:e.fixture_time.split(":")[1]})]})]}):(0,s.jsx)("p",{children:"No time available"})}),(0,s.jsxs)("div",{className:"flex gap-2 max-md:gap-4 flex-col w-[30%] max-md:w-[50%]",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center max-md:text-start",children:[(0,s.jsx)(r.default,{src:(null==e?void 0:null===(a=e.home_team_logo)||void 0===a?void 0:a.startsWith("http"))?e.home_team_logo:"globe.svg",alt:e.home_team||"Home Team Logo",className:"w-5 h-5 rounded-full",width:20,height:20}),(0,s.jsx)("span",{className:"text-[13px]",children:e.home_team||"Home Team"})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center max-md:text-start",children:[(0,s.jsx)(r.default,{src:(null==e?void 0:null===(l=e.away_team_logo)||void 0===l?void 0:l.startsWith("http"))?e.away_team_logo:"globe.svg",alt:e.away_team||"Away Team Logo",className:"w-5 h-5 rounded-full",width:20,height:20}),(0,s.jsx)("span",{className:"text-[13px]",children:e.away_team||"Away Team"})]})]}),(0,s.jsxs)("div",{className:"w-[30%] max-md:w-auto flex flex-col gap-2 items-center max-md:hidden",children:[(0,s.jsxs)("div",{className:"flex text-[12px] max-lg:text-[12px]",children:[(0,s.jsx)("p",{children:e.home_score||""}),(0,s.jsx)("span",{children:e.home_score?"-":""}),(0,s.jsx)("p",{children:e.away_score||""})]}),(0,s.jsxs)("div",{className:"flex max-md:hidden gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col text-sm gap-1",children:[(0,s.jsx)("p",{className:"text-[12px]",children:"1"}),(0,s.jsx)("p",{className:"text-[12px] text-center text-gray-600",children:e.home_team_odd})]}),(0,s.jsxs)("div",{className:"flex flex-col text-sm items-center text-center gap-1",children:[(0,s.jsx)("p",{className:"text-[12px]",children:"X"}),(0,s.jsx)("p",{className:"text-[12px] flex-col text-gray-600",children:e.draw_odd})]}),(0,s.jsxs)("div",{className:"flex flex-col text-sm gap-1",children:[(0,s.jsx)("p",{className:"text-[12px]",children:"2"}),(0,s.jsx)("p",{className:"text-gray-600 text-[12px]",children:e.away_team_odd})]})]})]}),(0,s.jsx)("div",{className:"md:flex-1 text-[12px] max-md:hidden",children:e.tip||""}),(0,s.jsx)("div",{className:"md:flex-1 text-[12px] max-md:hidden",children:e.best_tip||""}),(0,s.jsx)("div",{className:"md:flex-1 text-[12px] max-md:hidden",children:e.confidence||"N/A"}),(0,s.jsxs)("div",{className:"flex md:hidden gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col text-sm gap-1",children:[(0,s.jsx)("p",{className:"text-sm",children:"1"}),(0,s.jsx)("p",{className:"ms-2 text-[14px] max-lg:text-[12px] text-gray-600",children:e.home_team_odd})]}),(0,s.jsxs)("div",{className:"flex flex-col text-sm items-center text-center gap-1",children:[(0,s.jsx)("p",{className:"text-sm",children:"X"}),(0,s.jsx)("p",{className:"ms-2 text-[14px] max-lg:text-[12px] flex-col text-gray-600",children:e.draw_odd})]}),(0,s.jsxs)("div",{className:"flex flex-col text-sm gap-1",children:[(0,s.jsx)("p",{className:"text-sm",children:"2"}),(0,s.jsx)("p",{className:"ms-2 text-[14px] max-lg:text-[12px] text-gray-600",children:e.away_team_odd})]})]})]}),(0,s.jsx)("hr",{className:"w-full md:hidden"}),(0,s.jsxs)("div",{className:"w-full text-start flex gap-10 md:hidden",children:[(0,s.jsxs)("div",{className:"text-[14px] max-lg:text-[12px]",children:[(0,s.jsx)("span",{className:"font-bold text-[14px] max-lg:text-[12px]",children:"Tip : "}),e.tip||""]}),(0,s.jsxs)("div",{className:"text-[14px] max-lg:text-[12px]",children:[(0,s.jsx)("span",{className:"font-bold text-[14px] max-lg:text-[12px]",children:"Best Tip : "}),e.best_tip||""]})]})]},t)})]})]},i)})]},a)})},t))}):(0,s.jsx)("div",{children:"No matches available for the selected date."})}function u(e){let{handleCountryFilter:t}=e,a=(0,c.d4)(l.$V);return console.log("CountryList",a),(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:sticky md:top-0  overflow-scroll bg-white hide-scrollba",children:[(0,s.jsx)("div",{className:"flex items-center justify-center gap-4 md:sticky text-[12px] max-lg:text-[14px] font-bold md:top-2 text-white bg-green-900 p-4 rounded-t-lg shadow-md hover:shadow-lg mt- mb-2 transition-shadow",children:"COUNTRIES"}),(0,s.jsxs)("div",{className:"overflow-scroll max-h-[95vh] flex flex-col  gap-4",children:[(0,s.jsx)("div",{onClick:()=>t(""),className:"flex items-center gap-4 bg-white p-4 text-center justify-center font-bold rounded-lg shadow-md hover:shadow-lg transition-shadow",children:"All"}),null==a?void 0:a.map(e=>(0,s.jsxs)("div",{onClick:()=>t(e.id),className:"flex items-center gap-4 bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[(0,s.jsx)("div",{className:"w-10 ",children:e.flag?(0,s.jsx)("img",{src:e.flag,alt:"".concat(e.name," Flag"),className:"object-cover w-full h-full rounded-md"}):(0,s.jsx)("div",{className:"bg-white w-full h-full rounded-md flex items-center justify-center text-[14px] max-lg:text-[12px] text-gray-500",children:"No Flag"})}),(0,s.jsx)("div",{className:"text-[14px] max-lg:text-[12px] font-semibold text-gray-700",children:e.name})]},e.id))]})]})}function p(e){let{activeDate:t,setActiveDate:a,dates:l,range:i,formatDate:r}=e,d=(0,n.useRef)(null),c=new Date;c.setDate(c.getDate()-1);let x=r(c);return(0,n.useEffect)(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[]),(0,s.jsx)("div",{className:"w-full mb-3 md:sticky md:top-0  flex items-center justify-center",children:(0,s.jsx)("div",{className:"flex gap-4 overflow-x-auto p-1 rounded-md hide-scrollbar",children:l.map((e,l)=>{let n=i.find(t=>t.date.getTime()===e.getTime()),c=r(e),o=t===c;return(0,s.jsx)("div",{className:"max-md:min-w-[6.5rem] min-w-[8rem] flex justify-center text-[14px] max-lg:text-[12px]\n                ".concat(o?"bg-green-700":"bg-green-900"," hover:bg-green-700 \n                text-white p-2 rounded-lg cursor-pointer"),ref:(null==n?void 0:n.label)==="Today"?d:null,onClick:()=>{c===x&&console.log("yesterday"),a(c)},children:n?(0,s.jsx)("div",{className:"font-bold text-[14px] max-lg:text-[12px]",children:n.label}):(0,s.jsx)("div",{className:"text-[14px] max-lg:text-[12px]",children:c})},l)})})})}var h=a(3631);let{useGetCountriesMutation:g}=h.l.injectEndpoints({endpoints:e=>({getCountries:e.mutation({query:e=>({url:"/fixtures/event_countries",method:"POST",body:{...e}})})})}),{useGetPublicPredictionsMutation:f,useGetSubscriberFixesMutation:v}=h.l.injectEndpoints({endpoints:e=>({getPublicPredictions:e.mutation({query:e=>({url:"/fixtures/get_fixtures",method:"POST",body:{...e}})}),getSubscriberFixes:e.mutation({query:e=>({url:"/fixtures/fixtures",method:"POST",body:{...e}})})})});var j=a(924),w=a(3687);function b(){let e=[],t=new Date,a=new Date(t);a.setDate(t.getDate()-1);for(let t=2;t>0;t--){let s=new Date(a);s.setDate(a.getDate()-t),e.push(s)}let r=[{label:"Yesterday",date:a},{label:"Today",date:new Date(t)}];e.push(...r.map(e=>e.date));let d=e=>{let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(s)},[x,o]=(0,n.useState)(d(t)),h=(0,c.d4)(j.mB),[b,N]=(0,n.useState)(""),[y]=f(),[_]=v(),[S]=g(),k=(0,c.d4)(w.sB),D=(0,c.wA)(),[E,T]=(0,n.useState)(!1),[M,P]=(0,n.useState)(1),[A,C]=(0,n.useState)(),O=(0,n.useRef)(null);return(0,n.useEffect)(()=>{(async()=>{try{T(!0);let e={request:{request_id:Date.now(),data:{date:String(x),type:"all",page:1,country:String(b)}}},t={request:{request_id:Date.now(),data:{date:String(x),type:"all",page:M,country:String(b)}}},a={request:{request_id:Date.now(),data:{}}},s=await S(a).unwrap();D((0,l.Nx)(s));let r=await y(e).unwrap();if(D((0,i.sf)({publicpredictions:r.data,page:1})),C(1),console.log("user",h),console.log("subscription",k.is_subscribed),(null==k?void 0:k.is_subscribed)===1){let e=await _(t).unwrap();D((0,i.sf)({publicpredictions:e.data,page:M})),C(e.count)}}catch(e){console.error("Error fetching data:",e)}finally{T(!1)}})()},[S,x,M,b,null==h?void 0:h.is_subscribed,k]),(0,n.useEffect)(()=>{let e=()=>{if(O.current){let{scrollTop:e,scrollHeight:t,clientHeight:a}=O.current;e+a>=.95*t&&P(e=>e<A?e+1:e)}},t=O.current;return t&&t.addEventListener("scroll",e),()=>{t&&t.removeEventListener("scroll",e)}},[M,A]),(0,s.jsx)("div",{className:"py- lg:py-5 max-md:px-0 max-2xl:px-4",children:(0,s.jsxs)("div",{className:"flex gap-4 mt-5 md:mt-2",children:[(0,s.jsx)("div",{className:"md:w-[20%] max-md:hidden mt-0",children:(0,s.jsx)(u,{handleCountryFilter:e=>{N(e)}})}),(0,s.jsxs)("div",{className:"md:w-[80%] md:sticky md:top-2 p-2 overflow-hidden ",children:[(0,s.jsx)(p,{activeDate:x,setActiveDate:o,dates:e,range:r,formatDate:d}),(0,s.jsxs)("div",{className:"mt-5 md:mt-5 h-[95vh] overflow-scroll hide-scrollbar",ref:O,children:[(0,s.jsx)("h2",{className:"mb-2 font-bold text-[14px] max-lg:text-[12px]",children:"All Matches"}),(0,s.jsx)(m,{activeDate:x,setPagenumber:P,pagenumber:M,loading:E,totalPages:A})]})]})]})})}},924:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c,gV:()=>r,je:()=>n,mB:()=>x});var s=a(2212),l=a(9208);let i=(0,s.Z0)({name:"auth",initialState:{user:null,auth:null,notifications:null,isAuthenticated:!1,loading:!1},reducers:{setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0},setLoading:(e,t)=>{e.loading=t.payload},logOut:e=>{e.token=null,e.auth=null,e.user=null,e.notifications=null,e.isAuthenticated=!1,l.A.remove("access_token")}}}),{setUser:r,setLoading:d,logOut:n}=i.actions,c=i.reducer,x=e=>e.auth.user},2186:(e,t,a)=>{"use strict";a.d(t,{$V:()=>n,Ay:()=>d,Nx:()=>l});let s=(0,a(2212).Z0)({name:"countries",initialState:{countries:[],loading:!1,error:null},reducers:{setCountries:(e,t)=>{e.countries=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setCountries:l,setLoading:i,setError:r}=s.actions,d=s.reducer,n=e=>{var t;return null===(t=e.countries.countries)||void 0===t?void 0:t.data}},5305:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,CB:()=>n,sf:()=>l});let s=(0,a(2212).Z0)({name:"publicpredictions",initialState:{publicpredictions:[],loading:!1,error:null},reducers:{setPublicPredictions:(e,t)=>{let{publicpredictions:a,page:s}=t.payload,l=a&&"object"==typeof a?a:{};1===s?e.publicpredictions=[l]:e.publicpredictions.push(l)},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setPublicPredictions:l,setLoading:i,setError:r}=s.actions,d=s.reducer,n=e=>e.publicpredictions.publicpredictions},3687:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,CP:()=>l,sB:()=>n});let s=(0,a(2212).Z0)({name:"subscription",initialState:{subscription:[],loading:!1,error:null},reducers:{setSubscription:(e,t)=>{e.subscription=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setSubscription:l,setLoading:i,setError:r}=s.actions,d=s.reducer,n=e=>e.subscription.subscription},3631:(e,t,a)=>{"use strict";a.d(t,{l:()=>n});var s=a(565),l=a(9295),i=a(9208);let r=(0,s.cw)({baseUrl:"https://api.flairtips.com/api/v1/",prepareHeaders:(e,t)=>{let{getState:a}=t,s=i.A.get("access_token");return console.log("token: "+s),s&&e.set("authorization","Bearer ".concat(s)),e}}),d=async(e,t,a)=>{var s;let l=await r(e,t,a);return(null==l?void 0:null===(s=l.error)||void 0===s?void 0:s.originalStatus)===403&&(t.getState().auth.access_token?(t.dispatch(setCredentials({token:token})),l=await r(e,t,a)):t.dispatch(logOut())),l},n=(0,l.xP)({baseQuery:d,endpoints:e=>({})}),{}=n}},e=>{var t=t=>e(e.s=t);e.O(0,[470,245,23,441,517,358],()=>t(7552)),_N_E=e.O()}]);