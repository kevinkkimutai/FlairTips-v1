(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{6742:(e,r,t)=>{Promise.resolve().then(t.bind(t,9851))},9851:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5155),a=t(1720),l=t(8173),o=t.n(l),n=t(2115),i=t(2110);function d(){let[e,r]=(0,n.useState)(!1),[t,l]=(0,n.useState)({full_name:"",email:"",password:"",confirmPassword:""}),[d]=(0,a.i0)(),c=()=>{r(e=>!e)},u=e=>{let{name:r,value:t}=e.target;l(e=>({...e,[r]:t}))},m=async e=>{if(e.preventDefault(),t.password!==t.confirmPassword){i.oR.warning("Passwords do not match!");return}try{let e={request:{request_id:Date.now(),data:{full_name:t.full_name,email:t.email,password:t.password}}},r=await d(e).unwrap();(null==r?void 0:r.success)?i.oR.success("User created successfully!"):i.oR.error((null==r?void 0:r.message)||"Registration failed!")}catch(e){var r;console.error("Error creating user:",e),i.oR.error((null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.message)||"Registration failed!")}};return(0,s.jsx)("div",{className:"font-[sans-serif]",children:(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center py-6 px-4",children:(0,s.jsx)("div",{className:"max-w-lg w-full",children:(0,s.jsxs)("div",{className:"p-8 rounded-2xl md:bg-white md:shadow",children:[(0,s.jsx)("h2",{className:"text-gray-800 text-center text-2xl font-bold",children:"Create an account"}),(0,s.jsxs)("form",{className:"mt-8 space-y-4",onSubmit:m,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-800 text-sm mb-2 block",children:"Full Name"}),(0,s.jsx)("div",{className:"relative flex items-center",children:(0,s.jsx)("input",{name:"full_name",type:"text",value:t.full_name,onChange:u,required:!0,className:"w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-black",placeholder:"Enter Name"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-800 text-sm mb-2 block",children:"Email"}),(0,s.jsx)("div",{className:"relative flex items-center",children:(0,s.jsx)("input",{name:"email",type:"email",value:t.email,onChange:u,required:!0,className:"w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-black",placeholder:"Enter Email"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-800 text-sm mb-2 block",children:"Password"}),(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{name:"password",type:e?"text":"password",value:t.password,onChange:u,required:!0,className:"w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-black",placeholder:"Enter password"}),e?(0,s.jsx)("svg",{onClick:c,className:"w-5 h-5 absolute right-4 text-gray-400 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}):(0,s.jsxs)("svg",{onClick:c,className:"w-5 h-5 absolute text-gray-400 right-4 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"}),(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-800 text-sm mb-2 block",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{name:"confirmPassword",type:e?"text":"password",value:t.confirmPassword,onChange:u,required:!0,className:"w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-black",placeholder:"Confirm Password"}),e?(0,s.jsx)("svg",{onClick:c,className:"w-5 h-5 absolute right-4 text-gray-400 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}):(0,s.jsxs)("svg",{onClick:c,className:"w-5 h-5 absolute text-gray-400 right-4 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"}),(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})]})]}),(0,s.jsx)("div",{className:"!mt-8",children:(0,s.jsx)("button",{type:"submit",className:"w-full py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-green-500 hover:bg-green-700 focus:outline-none",children:"Register"})}),(0,s.jsxs)("p",{className:"text-gray-800 text-sm !mt-8 text-center",children:["Already have an account?"," ",(0,s.jsx)(o(),{href:"/login",className:"text-green-500 hover:underline ml-1 whitespace-nowrap font-semibold",children:"Login here"})]})]})]})})})})}},1720:(e,r,t)=>{"use strict";t.d(r,{Lv:()=>m,TP:()=>i,h8:()=>s,hr:()=>u,i0:()=>a});let{useLoginUserMutation:s,useCreateUserMutation:a,useGetAllUsersQuery:l,useGetUserByIdQuery:o,useGetUserQuery:n,useGetCurrentUserMutation:i,useUpdateUserByIdMutation:d,useDeleteUserByIdMutation:c,useForgetPasswordMutation:u,useResetPasswordMutation:m,useLogoutMutation:h}=t(3631).l.injectEndpoints({endpoints:e=>({createUser:e.mutation({query:e=>({url:"/auth/register",method:"POST",body:{...e}})}),loginUser:e.mutation({query:e=>({url:"/auth/login",method:"POST",body:{...e}})}),getAllUsers:e.query({query:()=>"/users"}),getUserById:e.query({query:e=>"/users/".concat(e)}),getCurrentUser:e.mutation({query:e=>({url:"/users/get_user_by_token",method:"POST",body:{...e}})}),getUser:e.query({query:()=>"/currentuser"}),updateUserById:e.mutation({query:e=>{let{userData:r}=e;return{url:"/users/update_user_details",method:"PUT",body:{...r}}}}),deleteUserById:e.mutation({query:e=>({url:"/users/".concat(e),method:"DELETE"})}),forgetPassword:e.mutation({query:e=>({url:"/auth/forgot_password",method:"POST",body:{...e}})}),resetPassword:e.mutation({query:e=>({url:"/auth/reset_password",method:"POST",body:{...e}})}),logout:e.mutation({query:()=>({url:"/logout",method:"POST"})})})})},3631:(e,r,t)=>{"use strict";t.d(r,{l:()=>i});var s=t(565),a=t(9295),l=t(9208);let o=(0,s.cw)({baseUrl:"https://api.flairtips.com/api/v1/",prepareHeaders:(e,r)=>{let{getState:t}=r,s=l.A.get("access_token");return console.log("token: "+s),s&&e.set("authorization","Bearer ".concat(s)),e}}),n=async(e,r,t)=>{var s;let a=await o(e,r,t);return(null==a?void 0:null===(s=a.error)||void 0===s?void 0:s.originalStatus)===403&&(r.getState().auth.access_token?(r.dispatch(setCredentials({token:token})),a=await o(e,r,t)):r.dispatch(logOut())),a},i=(0,a.xP)({baseQuery:n,endpoints:e=>({})}),{}=i}},e=>{var r=r=>e(e.s=r);e.O(0,[470,110,173,441,517,358],()=>r(6742)),_N_E=e.O()}]);