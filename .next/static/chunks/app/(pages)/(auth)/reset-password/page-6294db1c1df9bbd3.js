(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{4764:(e,t,r)=>{Promise.resolve().then(r.bind(r,5401))},5401:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),o=r(1720),a=r(8173),n=r.n(a),l=r(2115),i=r(2110);function d(){let[e,t]=(0,l.useState)(!1),[r,a]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[c]=(0,o.Lv)(),h=()=>{t(e=>!e)},m=async e=>{if(e.preventDefault(),r!==d){i.oR.error("Passwords do not match");return}try{let e={request:{request_id:Date.now(),data:{code:"your-verification-code-here",password:r,confirm_password:d}}},t=await c(e).unwrap();console.log("Password reset successful:",t),i.oR.success("Password reset successfully!")}catch(e){console.error("Error resetting password:",e),i.oR.error("Error resetting password.")}};return(0,s.jsx)("div",{className:"font-[sans-serif]",children:(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center py-6 px-4",children:(0,s.jsx)("div",{className:"max-w-lg w-full",children:(0,s.jsxs)("div",{className:"p-8 rounded-2xl md:bg-white md:shadow",children:[(0,s.jsx)("h2",{className:"text-gray-800 text-center text-2xl font-bold",children:"Reset Password"}),(0,s.jsxs)("form",{className:"mt-8 space-y-4",onSubmit:m,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-800 text-sm mb-2 block",children:"Password"}),(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{name:"password",type:e?"text":"password",value:r,onChange:e=>a(e.target.value),required:!0,className:"w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-black",placeholder:"Enter password"}),e?(0,s.jsx)("svg",{onClick:h,className:"w-5 h-5 absolute right-4 text-gray-400 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}):(0,s.jsxs)("svg",{onClick:h,className:"w-5 h-5 absolute text-gray-400 right-4 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"}),(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-800 text-sm mb-2 block",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{name:"confirmPassword",type:e?"text":"password",value:d,onChange:e=>u(e.target.value),required:!0,className:"w-full text-gray-800 text-sm border border-gray-300 px-4 py-3 rounded-md outline-black",placeholder:"Confirm Password"}),e?(0,s.jsx)("svg",{onClick:h,className:"w-5 h-5 absolute right-4 text-gray-400 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}):(0,s.jsxs)("svg",{onClick:h,className:"w-5 h-5 absolute text-gray-400 right-4 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"}),(0,s.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})]})]}),(0,s.jsx)("div",{className:"!mt-8",children:(0,s.jsx)("button",{type:"submit",className:"w-full py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-green-500 hover:bg-green-700 focus:outline-none",children:"Submit"})}),(0,s.jsxs)("p",{className:"text-gray-800 text-sm !mt-8 text-center",children:["Already have an account?"," ",(0,s.jsx)(n(),{href:"/login",className:"text-green-500 hover:underline ml-1 whitespace-nowrap font-semibold",children:"Login"})]})]})]})})})})}},1720:(e,t,r)=>{"use strict";r.d(t,{Lv:()=>h,TP:()=>i,h8:()=>s,hr:()=>c,i0:()=>o});let{useLoginUserMutation:s,useCreateUserMutation:o,useGetAllUsersQuery:a,useGetUserByIdQuery:n,useGetUserQuery:l,useGetCurrentUserMutation:i,useUpdateUserByIdMutation:d,useDeleteUserByIdMutation:u,useForgetPasswordMutation:c,useResetPasswordMutation:h,useLogoutMutation:m}=r(3631).l.injectEndpoints({endpoints:e=>({createUser:e.mutation({query:e=>({url:"/auth/register",method:"POST",body:{...e}})}),loginUser:e.mutation({query:e=>({url:"/auth/login",method:"POST",body:{...e}})}),getAllUsers:e.query({query:()=>"/users"}),getUserById:e.query({query:e=>"/users/".concat(e)}),getCurrentUser:e.mutation({query:e=>({url:"/users/get_user_by_token",method:"POST",body:{...e}})}),getUser:e.query({query:()=>"/currentuser"}),updateUserById:e.mutation({query:e=>{let{userData:t}=e;return{url:"/users/update_user_details",method:"PUT",body:{...t}}}}),deleteUserById:e.mutation({query:e=>({url:"/users/".concat(e),method:"DELETE"})}),forgetPassword:e.mutation({query:e=>({url:"/auth/forgot_password",method:"POST",body:{...e}})}),resetPassword:e.mutation({query:e=>({url:"/auth/reset_password",method:"POST",body:{...e}})}),logout:e.mutation({query:()=>({url:"/logout",method:"POST"})})})})},3631:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var s=r(565),o=r(9295),a=r(9208);let n=(0,s.cw)({baseUrl:"https://api.flairtips.com/api/v1/",prepareHeaders:(e,t)=>{let{getState:r}=t,s=a.A.get("access_token");return console.log("token: "+s),s&&e.set("authorization","Bearer ".concat(s)),e}}),l=async(e,t,r)=>{var s;let o=await n(e,t,r);return(null==o?void 0:null===(s=o.error)||void 0===s?void 0:s.originalStatus)===403&&(t.getState().auth.access_token?(t.dispatch(setCredentials({token:token})),o=await n(e,t,r)):t.dispatch(logOut())),o},i=(0,o.xP)({baseQuery:l,endpoints:e=>({})}),{}=i}},e=>{var t=t=>e(e.s=t);e.O(0,[470,110,173,441,517,358],()=>t(4764)),_N_E=e.O()}]);