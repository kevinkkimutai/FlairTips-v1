(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[408],{9883:(e,t,l)=>{Promise.resolve().then(l.bind(l,7555))},5565:(e,t,l)=>{"use strict";l.d(t,{default:()=>a.a});var s=l(4146),a=l.n(s)},4146:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{default:function(){return d},getImageProps:function(){return o}});let s=l(306),a=l(666),r=l(7970),n=s._(l(5514));function o(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,l]of Object.entries(t))void 0===l&&delete t[e];return{props:t}}let d=r.Image},7555:(e,t,l)=>{"use strict";l.d(t,{default:()=>v});var s=l(5155),a=l(2115),r=l(5565);function n(e){let{user:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center shadow-lg border rounded-lg overflow-hidden py-10 relative",children:[(0,s.jsx)("span",{className:"absolute top-2 left-2 ",children:(null==t?void 0:t.is_validated)?(0,s.jsx)("svg",{className:"w-8 h-8 text-blue-600 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12 2c-.791 0-1.55.314-2.11.874l-.893.893a.985.985 0 0 1-.696.288H7.04A2.984 2.984 0 0 0 4.055 7.04v1.262a.986.986 0 0 1-.288.696l-.893.893a2.984 2.984 0 0 0 0 4.22l.893.893a.985.985 0 0 1 .288.696v1.262a2.984 2.984 0 0 0 2.984 2.984h1.262c.261 0 .512.104.696.288l.893.893a2.984 2.984 0 0 0 4.22 0l.893-.893a.985.985 0 0 1 .696-.288h1.262a2.984 2.984 0 0 0 2.984-2.984V15.7c0-.261.104-.512.288-.696l.893-.893a2.984 2.984 0 0 0 0-4.22l-.893-.893a.985.985 0 0 1-.288-.696V7.04a2.984 2.984 0 0 0-2.984-2.984h-1.262a.985.985 0 0 1-.696-.288l-.893-.893A2.984 2.984 0 0 0 12 2Zm3.683 7.73a1 1 0 1 0-1.414-1.413l-4.253 4.253-1.277-1.277a1 1 0 0 0-1.415 1.414l1.985 1.984a1 1 0 0 0 1.414 0l4.96-4.96Z",clipRule:"evenodd"})}):(0,s.jsx)("svg",{className:"w-8 h-8 text-red-600 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm11-4a1 1 0 1 0-2 0v5a1 1 0 1 0 2 0V8Zm-1 7a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2H12Z",clipRule:"evenodd"})})}),(0,s.jsx)(r.default,{src:(null==t?void 0:t.avatar)||"/globe.svg",className:"rounded-full h-[100px] bg-red-100 object-cover ",alt:(null==t?void 0:t.first_name)+"username",width:100,height:100,priority:!0}),(0,s.jsxs)("div",{className:"mt-5",children:[null==t?void 0:t.first_name," ",null==t?void 0:t.last_name]})]}),(0,s.jsxs)("div",{className:"shadow-lg border rounded-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 relative",children:[(0,s.jsx)("p",{className:" ".concat((null==t?void 0:t.is_active)?"bg-green-400":"bg-red-400"," absolute top-0 left-0 px-2 rounded-br-lg "),children:(0,s.jsx)("span",{className:"text-black ",children:(null==t?void 0:t.is_active)?"Active":"InActive"})}),(0,s.jsx)("h3",{className:"font-bold  ",children:"Standard"}),(0,s.jsx)("p",{className:"",children:"Ideal for small teams or solo players."}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)("span",{className:"underline font-bold",children:"ksh: 1000/month"})})]}),(0,s.jsx)("hr",{className:"bg-black mx-auto w-[70%]"}),(0,s.jsxs)("div",{className:"py-10",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)("h3",{className:"font-bold",children:"MPESA Payment"}),(0,s.jsx)("p",{children:"Your subscription was paid using MPESA."})]}),(0,s.jsx)("div",{className:"w-full flex items-center justify-center mt-10",children:(0,s.jsx)("button",{className:"bg-green-400 hover:bg-green-500 py-2 px-3 rounded-lg",children:"Upgrade Subscription"})})]})]})]})}function o(e){var t;let{user:l,handleOpenModal:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"w-full rounded-lg border shadow-md",children:[(0,s.jsxs)("div",{className:"w-full px-4 flex items-center justify-between border-b py-2",children:[(0,s.jsx)("h3",{className:"font-bold",children:"My Bio"}),(0,s.jsx)("button",{onClick:a,className:"py-[2px] flex items-center text-center justify-center px-2 text-sm font-bold bg-blue-500 text-white rounded-lg",children:"EDIT"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"first_name",className:"text-gray-700",children:"First Name"}),(0,s.jsx)("p",{className:"py-2",children:null==l?void 0:l.first_name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"middle_name",className:"text-gray-700",children:"Middle Name"}),(0,s.jsx)("p",{className:"py-2",children:(null==l?void 0:l.middle_name)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"last_name",className:"text-gray-700",children:"Last Name"}),(0,s.jsx)("p",{className:"py-2",children:null==l?void 0:l.last_name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-gray-700",children:"Email"}),(0,s.jsx)("p",{className:"py-2",children:null==l?void 0:l.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"text-gray-700",children:"Phone"}),(0,s.jsx)("p",{className:"py-2",children:null==l?void 0:l.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"subscription_end_date",className:"text-gray-700",children:"Subscription End Date"}),(0,s.jsx)("p",{className:"py-2",children:(t=null==l?void 0:l.subscription_end_date)?new Date(1e3*t).toLocaleString():"N/A"})]})]})]})})}var d=l(3391),i=l(924);let{useGetPaymentHistoryMutation:c}=l(3631).l.injectEndpoints({endpoints:e=>({getPaymentHistory:e.mutation({query:e=>({url:"/deposits/get_my_recent_payments",method:"POST",body:{...e}})})})});var u=l(5480);function m(){let e=(0,d.d4)(u.vI),[t]=c(),l=(0,d.wA)(),[r,n]=a.useState(null);return(0,a.useEffect)(()=>{(async()=>{let e={request:{request_id:Date.now(),data:{page:0}}};try{let s=await t(e).unwrap();console.log("Payment History fetched",s),n(s.status),l((0,u.du)(s.items))}catch(e){console.log("Please log in to get subscription history",e)}})()},[t,l]),(0,s.jsxs)("div",{className:"rounded-lg shadow-md border md:w-2/5 px-4 max-h-[400px] hide-scrollbar overflow-scroll",children:[(0,s.jsx)("div",{className:"w-full flex items-center justify-start bg-white border-b py-2 sticky top-0",children:(0,s.jsx)("h3",{className:"font-semibold",children:"Subscription History"})}),(0,s.jsx)("div",{children:e&&e.length>0?(0,s.jsx)(s.Fragment,{children:e.map((e,t)=>(0,s.jsxs)("div",{className:"border rounded-md mt-3 p-2 mb-2 shadow-md",children:[(0,s.jsxs)("p",{className:"text-gray-700 flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm",children:new Date(1e3*e.deposit_date).toLocaleString()}),(0,s.jsx)("span",{className:"text-sm bg-green-400 rounded-lg px-2",children:e.method})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2 items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-gray-700",children:["Transaction Id: ",(0,s.jsx)("br",{})," ",e.transaction_id]}),(0,s.jsxs)("p",{className:"text-gray-700",children:["Amount: ",(0,s.jsx)("br",{})," Ksh: ",e.amount]})]})]},t))}):(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-gray-700 text-center",children:"No payment history found"})})})]})}var h=l(2110);function x(e){let{user:t,handleDelete:l,handleCancel:a,isOpen:r}=e;return(0,s.jsx)(s.Fragment,{children:r&&(0,s.jsx)("div",{className:" overflow-y-auto overflow-x-hidden bg-red-50/50 flex  fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-full max-h-full",children:(0,s.jsx)("div",{className:"relative p-4 w-full max-w-md max-h-full",children:(0,s.jsxs)("div",{className:"relative bg-white rounded-lg shadow-sm",children:[(0,s.jsxs)("button",{type:"button",onClick:a,className:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center","data-modal-hide":"popup-modal",children:[(0,s.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,s.jsx)("span",{className:"sr-only",children:"Close modal"})]}),(0,s.jsxs)("div",{className:"p-4 md:p-5 text-center",children:[(0,s.jsx)("svg",{className:"mx-auto mb-4 text-red-600 w-12 h-12","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),(0,s.jsxs)("h3",{className:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400",children:["Are you sure you want to delete this Account? ",(0,s.jsx)("br",{})," ",(0,s.jsxs)("span",{className:"font-bold text-black underline",children:[" ",null==t?void 0:t.first_name]})," "]}),(0,s.jsx)("button",{onClick:l,type:"button",className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300  font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center",children:"Yes, I'm sure"}),(0,s.jsx)("button",{onClick:a,type:"button",className:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100",children:"No, cancel"})]})]})})})})}var p=l(6046);function g(e){let{user:t,deleteAccount:l}=e,[r,n]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),u=(0,p.useRouter)(),m=(0,d.wA)(),g=async()=>{let e={request:{request_id:Date.now(),data:{id:t.id}}};try{await l(e).unwrap()&&(c(!1),n(""),m((0,i.je)()),u.push("/"),h.oR.success("Account deleted successfully! \uD83E\uDD76"))}catch(e){c(!1),h.oR.error("Error deleting account. Please try again later.")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"rounded-lg shadow-md border px-4 py-4 bg-red-100 flex flex-col items-center text-center w-full",children:[(0,s.jsx)("h3",{className:"font-bold text-lg text-red-600",children:"Delete Account"}),(0,s.jsx)("p",{className:"mt-2 text-gray-700",children:"This will permanently delete your account and data."}),(0,s.jsxs)("p",{className:"mt-4 text-sm font-semibold text-gray-800",children:["To confirm, type ",(0,s.jsx)("span",{className:"bg-gray-200 px-4 py-1 rounded-md",children:null==t?void 0:t.first_name})," below:"]}),(0,s.jsx)("input",{type:"text",className:"mt-3 px-3 py-2 border rounded-lg w-[75%] text-center",placeholder:"Enter your first name",value:r,onChange:e=>n(e.target.value)}),(0,s.jsx)("button",{className:"py-2 mt-4 px-4 text-sm font-bold bg-red-500 hover:bg-red-600 text-white rounded-lg disabled:opacity-50",onClick:()=>{if(r!==(null==t?void 0:t.first_name)){h.oR.error("The name you entered does not match.");return}c(!0)},children:"Delete"})]}),o&&(0,s.jsx)(x,{user:t,isOpen:o,handleCancel:()=>{c(!1),n("")},handleDelete:g})]})}var f=l(1720);function y(e){let{user:t}=e,[l]=(0,f.hr)(),a=async e=>{e.preventDefault();try{let e={request:{request_id:Date.now(),data:{identity:t.email}}};await l(e).unwrap(),h.oR.success("Password reset email sent!")}catch(e){var s;console.log("Error sending reset email:",e),h.oR.error((null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.message)||"Failed to send reset email!")}};return(0,s.jsxs)("div",{className:"rounded-lg shadow-md border px-4 py-4 flex- w-full flex gap-5",children:[(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:a,className:"py-2 px-2 bg-blue-600 text-white rounded-lg",children:"Change Password"})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"py-2 px-2 bg-blue-600 text-white rounded-lg",children:"Request Validation"})})]})}function b(e){let{handleCancel:t,handleSubmit:l,handleChange:a,formData:r,isOpen:n}=e;return(0,s.jsx)(s.Fragment,{children:n&&(0,s.jsx)("div",{className:" overflow-y-auto overflow-x-hidden bg-red-50/50 flex  fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-full max-h-full",children:(0,s.jsx)("div",{className:"relative p-4 w-full max-w-md max-h-full",children:(0,s.jsxs)("div",{className:"relative bg-white rounded-lg shadow-sm border",children:[(0,s.jsxs)("button",{type:"button",onClick:t,className:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center","data-modal-hide":"popup-modal",children:[(0,s.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,s.jsx)("span",{className:"sr-only",children:"Close modal"})]}),(0,s.jsxs)("div",{className:"px-4 md:px-5 pb-4 text-start",children:[(0,s.jsx)("div",{className:"border-b py-4",children:(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Update User Details"})}),(0,s.jsx)("form",{children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 mt-8",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"full_name",className:"text-start flex mb-2 text-sm font-medium text-gray-900 ",children:"Full Name"}),(0,s.jsx)("input",{type:"text",name:"full_name",value:r.full_name,onChange:a,id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"name@flowbite.com",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-start flex mb-2 text-sm font-medium text-gray-900 ",children:"Email"}),(0,s.jsx)("input",{type:"email",name:"email",value:r.email,onChange:a,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"name@flowbite.com",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-start flex mb-2 text-sm font-medium text-gray-900 ",children:"Phone Number"}),(0,s.jsx)("input",{type:"text",name:"phone",value:r.phone,onChange:a,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"name@flowbite.com",required:!0})]})]})}),(0,s.jsx)("button",{onClick:l,type:"button",className:"py-2.5 px-5 ms-3 text-sm font-medium text-white focus:outline-none bg-blue-600 rounded-lg border border-gray-200 hover:bg-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100",children:"Update"})]})]})})})})}function v(){let e=(0,d.d4)(i.mB),[t,l]=(0,a.useState)(!1),[r,c]=(0,a.useState)(!1),[u,x]=(0,a.useState)({email:"",phone:"",full_name:""});(0,a.useEffect)(()=>{e&&x({email:e.email||"N/A",phone:e.phone||"N/A",full_name:"".concat(e.first_name," ").concat(e.middle_name||""," ").concat(e.last_name).trim()})},[e]);let[p]=(0,f.hr)(),v=async e=>{e.preventDefault(),l(!0);try{let e={request:{request_id:Date.now(),data:{email:u.email,phone:u.phone,full_name:u.full_name}}};console.log("Request body:",e);let t=await p(e).unwrap();console.log("Profile update response:",t),c(!1),l(!1),h.oR.success("Profile updated successfully. \uD83C\uDF89")}catch(e){var t;console.error("Error updating profile:",e),h.oR.error((null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to update profile!"),l(!1),c(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex max-md:flex-col gap-5 w-full",children:[(0,s.jsx)("div",{className:"md:w-1/3 w-full flex flex-col gap-5",children:(0,s.jsx)(n,{user:e})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col gap-5",children:[(0,s.jsx)(o,{user:e,handleOpenModal:()=>{c(!0)}}),(0,s.jsxs)("div",{className:"flex max-md:flex-col gap-4",children:[(0,s.jsx)(m,{}),(0,s.jsxs)("div",{className:"flex-1 max-h-[400px] w-full flex flex-col gap-5",children:[(0,s.jsx)(y,{user:e}),(0,s.jsx)(g,{user:e})]})]})]})]}),(0,s.jsx)(b,{handleSubmit:v,handleChange:e=>{let{name:t,value:l}=e.target;x(e=>({...e,[t]:l}))},formData:u,handleCancel:()=>{c(!1),x({email:(null==e?void 0:e.email)||"",phone:(null==e?void 0:e.phone)||"",full_name:"".concat(null==e?void 0:e.first_name," ").concat((null==e?void 0:e.middle_name)||""," ").concat(null==e?void 0:e.last_name).trim()})},isOpen:r})]})}},1720:(e,t,l)=>{"use strict";l.d(t,{Lv:()=>m,TP:()=>d,h8:()=>s,hr:()=>u,i0:()=>a});let{useLoginUserMutation:s,useCreateUserMutation:a,useGetAllUsersQuery:r,useGetUserByIdQuery:n,useGetUserQuery:o,useGetCurrentUserMutation:d,useUpdateUserByIdMutation:i,useDeleteUserByIdMutation:c,useForgetPasswordMutation:u,useResetPasswordMutation:m,useLogoutMutation:h}=l(3631).l.injectEndpoints({endpoints:e=>({createUser:e.mutation({query:e=>({url:"/auth/register",method:"POST",body:{...e}})}),loginUser:e.mutation({query:e=>({url:"/auth/login",method:"POST",body:{...e}})}),getAllUsers:e.query({query:()=>"/users"}),getUserById:e.query({query:e=>"/users/".concat(e)}),getCurrentUser:e.mutation({query:e=>({url:"/users/get_user_by_token",method:"POST",body:{...e}})}),getUser:e.query({query:()=>"/currentuser"}),updateUserById:e.mutation({query:e=>{let{userData:t}=e;return{url:"/users/update_user_details",method:"PUT",body:{...t}}}}),deleteUserById:e.mutation({query:e=>({url:"/users/".concat(e),method:"DELETE"})}),forgetPassword:e.mutation({query:e=>({url:"/auth/forgot_password",method:"POST",body:{...e}})}),resetPassword:e.mutation({query:e=>({url:"/auth/reset_password",method:"POST",body:{...e}})}),logout:e.mutation({query:()=>({url:"/logout",method:"POST"})})})})},924:(e,t,l)=>{"use strict";l.d(t,{Ay:()=>i,gV:()=>n,je:()=>d,mB:()=>c});var s=l(2212),a=l(9208);let r=(0,s.Z0)({name:"auth",initialState:{user:null,auth:null,notifications:null,isAuthenticated:!1,loading:!1},reducers:{setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0},setLoading:(e,t)=>{e.loading=t.payload},logOut:e=>{e.token=null,e.auth=null,e.user=null,e.notifications=null,e.isAuthenticated=!1,a.A.remove("access_token")}}}),{setUser:n,setLoading:o,logOut:d}=r.actions,i=r.reducer,c=e=>e.auth.user},5480:(e,t,l)=>{"use strict";l.d(t,{Ay:()=>o,du:()=>a,vI:()=>d});let s=(0,l(2212).Z0)({name:"paymenthistory",initialState:{paymenthistory:[],loading:!1,error:null},reducers:{setPaymentHistory:(e,t)=>{e.paymenthistory=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setPaymentHistory:a,setLoading:r,setError:n}=s.actions,o=s.reducer,d=e=>e.paymenthistory.paymenthistory},3631:(e,t,l)=>{"use strict";l.d(t,{l:()=>d});var s=l(565),a=l(9295),r=l(9208);let n=(0,s.cw)({baseUrl:"https://api.flairtips.com/api/v1/",prepareHeaders:(e,t)=>{let{getState:l}=t,s=r.A.get("access_token");return console.log("token: "+s),s&&e.set("authorization","Bearer ".concat(s)),e}}),o=async(e,t,l)=>{var s;let a=await n(e,t,l);return(null==a?void 0:null===(s=a.error)||void 0===s?void 0:s.originalStatus)===403&&(t.getState().auth.access_token?(t.dispatch(setCredentials({token:token})),a=await n(e,t,l)):t.dispatch(logOut())),a},d=(0,a.xP)({baseQuery:o,endpoints:e=>({})}),{}=d}},e=>{var t=t=>e(e.s=t);e.O(0,[470,110,245,441,517,358],()=>t(9883)),_N_E=e.O()}]);